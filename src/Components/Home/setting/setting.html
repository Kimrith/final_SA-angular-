<div class="max-w-4xl mx-auto p-6">
  <!-- Header -->
  <div class="text-center mb-8">
    <h2 class="text-3xl font-bold text-gray-800">Edit User Information</h2>
  </div>

  <!-- Form Container -->
  <div class="flex flex-col md:flex-row gap-8 items-start max-sm:items-center">
    <!-- Profile Image -->
    <div class="flex-shrink-0">
      <img
        [src]="
          imgUpload ||
          'https://www.iprcenter.gov/image-repository/blank-profile-picture.png/@@images/image.png'
        "
        alt="Profile"
        class="rounded-full w-48 h-48 object-cover border-4 border-gray-200 shadow-sm"
      />
      <button
        type="button"
        (click)="imgChange()"
        [disabled]="!isLoggedIn"
        class="max-sm:text-center mt-5 w-full py-3 px-4 rounded-lg font-semibold text-white shadow-md transition duration-200 disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none bg-blue-600 hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
      >
        Change Photo
      </button>
    </div>

    <!-- Form Fields -->
    <div class="flex-1 w-full">
      <form class="space-y-5">
        <div>
          <label for="username" class="block text-sm font-medium text-gray-700 mb-1"
            >Username</label
          >
          <input
            [(ngModel)]="username"
            name="username"
            id="username"
            type="text"
            placeholder="Enter username"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700 mb-1"
            >Phone Number</label
          >
          <input
            [(ngModel)]="phone_num"
            name="phone_num"
            id="phone"
            type="text"
            placeholder="(123) 456-7890"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
          <input
            [(ngModel)]="email"
            name="email"
            id="email"
            type="email"
            placeholder="you@example.com"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <div>
          <label for="password" class="block text-sm font-medium text-gray-700 mb-1"
            >Password</label
          >
          <input
            [(ngModel)]="password"
            name="password"
            id="password"
            type="text"
            placeholder="••••••••"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1"
            >Confirm Password</label
          >
          <input
            [(ngModel)]="comfirm_password"
            name="comfirm_password"
            id="confirmPassword"
            type="text"
            placeholder="••••••••"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <div>
          <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
          <input
            [(ngModel)]="address"
            name="address"
            id="address"
            type="text"
            placeholder="123 Main St, City"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
          />
        </div>

        <!-- Submit Button -->
        <div class="pt-4">
          <button
            (click)="saveChange()"
            [disabled]="!isLoggedIn"
            type="submit"
            class="w-full py-3 px-4 rounded-lg font-semibold text-white shadow-md transition duration-200 disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none bg-blue-600 hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
          >
            Save Changes
          </button>
        </div>
        <div class="pt-4">
          <button
            (click)="remove()"
            [disabled]="!isLoggedIn"
            type="submit"
            class="w-full py-3 px-4 rounded-lg font-semibold text-white shadow-md transition duration-200 disabled:opacity-60 disabled:cursor-not-allowed disabled:shadow-none bg-red-600 hover:bg-red-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"
          >
            Remove
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div *ngIf="showTopup" class="fixed inset-0 flex justify-center items-center z-50 bg-black/40">
  <div class="bg-white p-6 rounded-xl shadow-lg w-96 relative">
    <button (click)="toggleTopup()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500">
      ✖
    </button>

    <h3 class="text-lg font-bold mb-4 text-center">Upload Profile Image</h3>
    <input
      type="file"
      class="block w-full text-sm text-gray-700 border border-gray-300 rounded-lg cursor-pointer focus:outline-none p-2"
      (change)="onFileSelected($event)"
    />
    <button
      (click)="upload()"
      class="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition"
    >
      Save
    </button>
    <button
      (click)="back()"
      class="mt-2 w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition"
    >
      Remove
    </button>
  </div>
</div>
